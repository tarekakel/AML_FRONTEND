<div *ngIf="show" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50">
  <div class="bg-white w-full max-w-md rounded-2xl shadow-xl p-6 relative">
    <h2 class="text-xl font-bold text-gray-700 mb-4">
      {{ user ? 'Edit User' : 'Add User' }}
    </h2>

    <form [formGroup]="form" (ngSubmit)="handleSubmit()" class="space-y-4">

      <label>Email</label>
      <input type="email" formControlName="email"
        class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-blue-500 focus:border-blue-500" />
      <p *ngIf="getControl('email')?.invalid && getControl('email')?.touched" class="text-red-500 text-sm">
        Valid email is required.
      </p>


      <div class="flex items-center space-x-10 mb-6">
        <!-- Active Toggle -->
        <div class="flex items-center space-x-2">
          <span class="font-medium">Active</span>
          <label class="relative inline-flex items-center cursor-pointer">
            <input type="checkbox" formControlName="is_active" class="sr-only peer" />
            <div class="w-11 h-6 bg-gray-200 rounded-full peer
                 peer-focus:ring-4 peer-focus:ring-green-300
                 peer-checked:bg-green-600"></div>
            <div class="absolute left-1 top-1 bg-white w-4 h-4 rounded-full
                 transition peer-checked:translate-x-full"></div>
          </label>
        </div>

        <!-- Blocked Toggle -->
        <div class="flex items-center space-x-2">
          <span class="font-medium">Blocked</span>
          <label class="relative inline-flex items-center cursor-pointer">
            <input type="checkbox" formControlName="is_blocked" class="sr-only peer" />
            <div class="w-11 h-6 bg-gray-200 rounded-full peer
                 peer-focus:ring-4 peer-focus:ring-red-300
                 peer-checked:bg-red-600"></div>
            <div class="absolute left-1 top-1 bg-white w-4 h-4 rounded-full
                 transition peer-checked:translate-x-full"></div>
          </label>
        </div>
      </div>

      <div class="flex justify-end gap-2 pt-4">
        <button type="button" (click)="close.emit()" class="px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200">
          Cancel
        </button>
        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
          Save
        </button>
      </div>
    </form>
  </div>
</div>